{% comment %}
====================================================================
ğŸ¯ åšå®¢æ–‡ç« SEOä¼˜åŒ–å™¨ - Blog Article SEO Optimizer
====================================================================

ä¸“ä¸ºåšå®¢æ–‡ç« è®¾è®¡çš„SEOä¼˜åŒ–ç³»ç»Ÿï¼Œè‡ªåŠ¨ç”Ÿæˆé’ˆå¯¹æ•™è‚²æ€§å†…å®¹çš„SEOæ ‡ç­¾ã€‚
ä¸ºæ¯ç¯‡æ–‡ç« æä¾›æœ€ä½³çš„å…³é”®è¯å¯†åº¦å’Œç»“æ„åŒ–æ•°æ®ã€‚

ä½¿ç”¨æ–¹å¼ï¼šåœ¨blog/articleæ¨¡æ¿ä¸­åŒ…å«æ­¤ç‰‡æ®µ
{% include 'blog-seo-optimizer' %}

====================================================================
{% endcomment %}

{% comment %} ğŸ” æ”¶é›†å½“å‰æ–‡ç« ä¿¡æ¯ {% endcomment %}
{% assign current_article = article %}
{% assign article_title = article.title %}
{% assign article_content = article.content | strip_html %}
{% assign article_tags = article.tags %}

{% comment %} ğŸ“ åšå®¢å…³é”®è¯æ˜ å°„å­—å…¸ {% endcomment %}
{% assign blog_keywords_ja = '' %}
{% assign blog_keywords_en = '' %}
{% assign seo_title = '' %}
{% assign seo_description = '' %}
{% assign target_keywords = '' %}

{% comment %} ğŸ·ï¸ æ ¹æ®æ–‡ç« æ ‡ç­¾å’Œæ ‡é¢˜æ£€æµ‹å…³é”®è¯ {% endcomment %}
{% assign title_lower = article_title | downcase %}
{% assign content_excerpt = article.excerpt | default: article.content | strip_html | truncate: 300 %}

{% comment %} åœ°é›·ç³»ç›¸å…³æ–‡ç«  {% endcomment %}
{% if title_lower contains 'åœ°é›·ç³»' or title_lower contains 'ã˜ã‚‰ã„' or title_lower contains 'jiraikei' %}
  {% assign target_keywords = 'åœ°é›·ç³»,åœ°é›·ç³»ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,åœ°é›·ç³»ã‚³ãƒ¼ãƒ‡,åœ°é›·ç³»ã¨ã¯,jiraikei,jiraikei fashion,jirai fashion guide' %}
  {% assign seo_title = article_title | append: ' | åœ°é›·ç³»ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³å®Œå…¨ã‚¬ã‚¤ãƒ‰ - NoGenki' %}
  {% assign seo_description = 'åœ°é›·ç³»ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã®' | append: article_title | append: 'ã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã€‚åœ°é›·ç³»ã‚³ãƒ¼ãƒ‡ã®åŸºæœ¬ã‹ã‚‰å¿œç”¨ã¾ã§ã€åˆå¿ƒè€…ã«ã‚‚ã‚ã‹ã‚Šã‚„ã™ãã”ç´¹ä»‹ã—ã¾ã™ã€‚' %}

{% comment %} é‡ç”£å‹ç›¸å…³æ–‡ç«  {% endcomment %}
{% elsif title_lower contains 'é‡ç”£å‹' or title_lower contains 'ã‚Šã‚‡ã†ã•ã‚“' or title_lower contains 'ryousangata' %}
  {% assign target_keywords = 'é‡ç”£å‹,é‡ç”£å‹ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,é‡ç”£å‹ã‚³ãƒ¼ãƒ‡,é‡ç”£å‹ãƒ²ã‚¿ã‚¯,ryousangata,ryousangata fashion,mass production fashion' %}
  {% assign seo_title = article_title | append: ' | é‡ç”£å‹ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³å°‚é–€ã‚¬ã‚¤ãƒ‰ - NoGenki' %}
  {% assign seo_description = 'é‡ç”£å‹ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã®' | append: article_title | append: 'ã‚’å¾¹åº•è§£èª¬ã€‚é‡ç”£å‹ã‚³ãƒ¼ãƒ‡ã®ä½œã‚Šæ–¹ã‹ã‚‰æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã¾ã§è©³ã—ãã”ç´¹ä»‹ã€‚' %}

{% comment %} ç—…ã¿ã‹ã‚ã„ã„ç›¸å…³æ–‡ç«  {% endcomment %}
{% elsif title_lower contains 'ç—…ã¿ã‹ã‚' or title_lower contains 'ã‚„ã¿ã‹ã‚' or title_lower contains 'yamikawaii' %}
  {% assign target_keywords = 'ç—…ã¿ã‹ã‚ã„ã„,ç—…ã¿ã‹ã‚ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,yamikawaii,dark kawaii,ç—…ã¿ã‹ã‚ã‚³ãƒ¼ãƒ‡,ç—…ã¿ã‹ã‚ã„ã„ãƒ¡ã‚¤ã‚¯' %}
  {% assign seo_title = article_title | append: ' | ç—…ã¿ã‹ã‚ã„ã„ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰ - NoGenki' %}
  {% assign seo_description = 'ç—…ã¿ã‹ã‚ã„ã„ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã®' | append: article_title | append: 'ã«ã¤ã„ã¦è§£èª¬ã€‚ç—…ã¿ã‹ã‚ã‚³ãƒ¼ãƒ‡ã¨ãƒ¡ã‚¤ã‚¯ã®ã‚³ãƒ„ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚' %}

{% comment %} åŸå®¿ç³»ç›¸å…³æ–‡ç«  {% endcomment %}
{% elsif title_lower contains 'åŸå®¿' or title_lower contains 'ã¯ã‚‰ã˜ã‚…ã' or title_lower contains 'harajuku' %}
  {% assign target_keywords = 'åŸå®¿ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,harajuku fashion,åŸå®¿ç³»,åŸå®¿ã‚¹ã‚¿ã‚¤ãƒ«,kawaii fashion,japanese street fashion' %}
  {% assign seo_title = article_title | append: ' | åŸå®¿ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³æƒ…å ± - NoGenki' %}
  {% assign seo_description = 'åŸå®¿ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã®' | append: article_title | append: 'ã‚’è©³ã—ãè§£èª¬ã€‚æœ€æ–°ã®åŸå®¿ã‚¹ã‚¿ã‚¤ãƒ«ã¨ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚' %}

{% comment %} ã‚´ã‚·ãƒƒã‚¯ç›¸å…³æ–‡ç«  {% endcomment %}
{% elsif title_lower contains 'ã‚´ã‚·ãƒƒã‚¯' or title_lower contains 'gothic' %}
  {% assign target_keywords = 'ã‚´ã‚·ãƒƒã‚¯ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,gothic fashion,ã‚´ã‚¹ãƒ­ãƒª,gothic lolita,ãƒ€ãƒ¼ã‚¯ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³' %}
  {% assign seo_title = article_title | append: ' | ã‚´ã‚·ãƒƒã‚¯ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³æƒ…å ± - NoGenki' %}
  {% assign seo_description = 'ã‚´ã‚·ãƒƒã‚¯ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã®' | append: article_title | append: 'ã«ã¤ã„ã¦è§£èª¬ã€‚gothic styleã®åŸºæœ¬ã‹ã‚‰å¿œç”¨ã¾ã§è©³ã—ãã”ç´¹ä»‹ã€‚' %}

{% comment %} ã‹ã‚ã„ã„ãƒ»kawaiiç›¸å…³æ–‡ç«  {% endcomment %}
{% elsif title_lower contains 'ã‹ã‚ã„ã„' or title_lower contains 'kawaii' or title_lower contains 'cute' %}
  {% assign target_keywords = 'ã‹ã‚ã„ã„ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,kawaii fashion,cute fashion,kawaii style,ã‚­ãƒ¥ãƒ¼ãƒˆãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,å¯æ„›ã„æœè£…' %}
  {% assign seo_title = article_title | append: ' | ã‹ã‚ã„ã„ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³æƒ…å ± - NoGenki' %}
  {% assign seo_description = 'ã‹ã‚ã„ã„ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã®' | append: article_title | append: 'ã‚’ã”ç´¹ä»‹ã€‚kawaii styleã®æœ€æ–°æƒ…å ±ã¨ã‚³ãƒ¼ãƒ‡ã®ã‚³ãƒ„ã‚’è§£èª¬ã—ã¾ã™ã€‚' %}

{% comment %} ã‚³ãƒ¼ãƒ‡ãƒ»outfitç›¸å…³æ–‡ç«  {% endcomment %}
{% elsif title_lower contains 'ã‚³ãƒ¼ãƒ‡' or title_lower contains 'outfit' or title_lower contains 'coordinate' %}
  {% assign target_keywords = 'ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‡,ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆ,outfit ideas,fashion coordinate,ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°,ç€ã“ãªã—' %}
  {% assign seo_title = article_title | append: ' | ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‡ã‚¬ã‚¤ãƒ‰ - NoGenki' %}
  {% assign seo_description = 'ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆã®' | append: article_title | append: 'ã‚’è§£èª¬ã€‚ãŠã—ã‚ƒã‚Œãªã‚³ãƒ¼ãƒ‡ã®ã‚³ãƒ„ã¨ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚' %}

{% comment %} ãƒ¡ã‚¤ã‚¯ç›¸å…³æ–‡ç«  {% endcomment %}
{% elsif title_lower contains 'ãƒ¡ã‚¤ã‚¯' or title_lower contains 'makeup' %}
  {% assign target_keywords = 'ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒ¡ã‚¤ã‚¯,kawaii makeup,åœ°é›·ç³»ãƒ¡ã‚¤ã‚¯,é‡ç”£å‹ãƒ¡ã‚¤ã‚¯,makeup tutorial,beauty tips' %}
  {% assign seo_title = article_title | append: ' | ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒ¡ã‚¤ã‚¯ã‚¬ã‚¤ãƒ‰ - NoGenki' %}
  {% assign seo_description = 'ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã«åˆã‚ã›ãŸãƒ¡ã‚¤ã‚¯ã®' | append: article_title | append: 'ã‚’è§£èª¬ã€‚åœ°é›·ç³»ãƒ»é‡ç”£å‹ãƒ¡ã‚¤ã‚¯ã®ã‚³ãƒ„ã‚’ã”ç´¹ä»‹ã€‚' %}

{% comment %} ãƒˆãƒ¬ãƒ³ãƒ‰ç›¸å…³æ–‡ç«  {% endcomment %}
{% elsif title_lower contains 'ãƒˆãƒ¬ãƒ³ãƒ‰' or title_lower contains 'trend' or title_lower contains 'æµè¡Œ' %}
  {% assign target_keywords = 'ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¬ãƒ³ãƒ‰,fashion trends,æœ€æ–°ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,æµè¡Œãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,ãƒˆãƒ¬ãƒ³ãƒ‰æƒ…å ±' %}
  {% assign seo_title = article_title | append: ' | æœ€æ–°ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¬ãƒ³ãƒ‰ - NoGenki' %}
  {% assign seo_description = 'æœ€æ–°ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¬ãƒ³ãƒ‰ã®' | append: article_title | append: 'ã‚’ãŠå±Šã‘ã€‚ä»Šè©±é¡Œã®ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚' %}

{% else %}
  {% comment %} ğŸ” ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š - ä¸€èˆ¬çš„ãªãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³è¨˜äº‹ {% endcomment %}
  {% assign target_keywords = 'ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,fashion,æ—¥æœ¬ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³,japanese fashion,ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±,fashion guide' %}
  {% assign seo_title = article_title | append: ' | ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³æƒ…å ± - NoGenki' %}
  {% assign seo_description = article_title | append: 'ã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã€‚æœ€æ–°ã®ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚' %}
{% endif %}

{% comment %} ğŸ¯ Meta Tags ç”Ÿæˆ {% endcomment %}
<title>{{ seo_title | strip }}</title>
<meta name="description" content="{{ seo_description | strip }}">
<meta name="keywords" content="{{ target_keywords }}">

{% comment %} ğŸ“… è¨˜äº‹ã®å…¬é–‹æ—¥ã¨ã‚«ãƒ†ã‚´ãƒªæƒ…å ± {% endcomment %}
<meta name="article:published_time" content="{{ article.published_at | date: '%Y-%m-%dT%H:%M:%S%z' }}">
<meta name="article:modified_time" content="{{ article.updated_at | date: '%Y-%m-%dT%H:%M:%S%z' }}">
<meta name="article:author" content="{{ article.author | default: shop.name }}">
<meta name="article:section" content="{{ blog.title }}">
{% for tag in article.tags limit: 5 %}
<meta name="article:tag" content="{{ tag }}">
{% endfor %}

{% comment %} ğŸŒ Open Graph Tags {% endcomment %}
<meta property="og:title" content="{{ seo_title | strip }}">
<meta property="og:description" content="{{ seo_description | strip }}">
<meta property="og:type" content="article">
<meta property="og:url" content="{{ shop.url }}{{ article.url }}">
<meta property="og:article:published_time" content="{{ article.published_at | date: '%Y-%m-%dT%H:%M:%S%z' }}">
<meta property="og:article:author" content="{{ article.author | default: shop.name }}">
{% if article.image %}
<meta property="og:image" content="{{ article.image | img_url: '1200x630' }}">
{% else %}
<meta property="og:image" content="{{ 'og-default-blog.jpg' | asset_url }}">
{% endif %}

{% comment %} ğŸ¦ Twitter Card Tags {% endcomment %}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ seo_title | strip }}">
<meta name="twitter:description" content="{{ seo_description | strip }}">
{% if article.image %}
<meta name="twitter:image" content="{{ article.image | img_url: '1200x630' }}">
{% else %}
<meta name="twitter:image" content="{{ 'twitter-default-blog.jpg' | asset_url }}">
{% endif %}

{% comment %} ğŸ“Š JSON-LD ç»“æ„åŒ–æ•°æ® - æ–‡ç«  {% endcomment %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ article.title | escape }}",
  "description": "{{ seo_description | strip_html | escape }}",
  "image": "{% if article.image %}{{ article.image | img_url: '1200x630' }}{% else %}{{ 'blog-default.jpg' | asset_url }}{% endif %}",
  "author": {
    "@type": "Person",
    "name": "{{ article.author | default: shop.name }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ shop.name }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ 'logo.png' | asset_url }}"
    }
  },
  "datePublished": "{{ article.published_at | date: '%Y-%m-%dT%H:%M:%S%z' }}",
  "dateModified": "{{ article.updated_at | date: '%Y-%m-%dT%H:%M:%S%z' }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ shop.url }}{{ article.url }}"
  },
  "keywords": "{{ target_keywords }}",
  "articleBody": "{{ article.content | strip_html | escape | truncate: 500 }}",
  "wordCount": {{ article.content | strip_html | split: ' ' | size }},
  "articleSection": "{{ blog.title }}",
  "inLanguage": "ja-JP"
}
</script>

{% comment %} ğŸ” FAQç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚æœæ–‡ç« åŒ…å«FAQå†…å®¹ï¼‰ {% endcomment %}
{% if article.content contains '?' or article.content contains 'ï¼Ÿ' %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": {
    "@type": "Question",
    "name": "{{ article.title | escape }}ã«ã¤ã„ã¦ã‚ˆãã‚ã‚‹è³ªå•",
    "acceptedAnswer": {
      "@type": "Answer",
      "text": "{{ article.excerpt | default: article.content | strip_html | escape | truncate: 200 }}"
    }
  }
}
</script>
{% endif %}

{% comment %} ğŸ”— Canonical URL {% endcomment %}
<link rel="canonical" href="{{ shop.url }}{{ article.url }}">

{% comment %} ğŸŒ Hreflang for international versions {% endcomment %}
<link rel="alternate" hreflang="ja" href="{{ shop.url }}{{ article.url }}">
<link rel="alternate" hreflang="en" href="{{ shop.url }}{{ article.url }}?locale=en">
<link rel="alternate" hreflang="x-default" href="{{ shop.url }}{{ article.url }}">

{% comment %} ğŸ“± Mobile optimization {% endcomment %}
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="format-detection" content="telephone=no">

{% comment %} ğŸ¨ Theme color for mobile browsers {% endcomment %}
<meta name="theme-color" content="#ff69b4">
<meta name="msapplication-navbutton-color" content="#ff69b4">
<meta name="apple-mobile-web-app-status-bar-style" content="#ff69b4">

{% comment %} ğŸ“Š é¢åŒ…å±‘å¯¼èˆªç»“æ„åŒ–æ•°æ® {% endcomment %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "ãƒ›ãƒ¼ãƒ ",
      "item": "{{ shop.url }}"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ blog.title }}",
      "item": "{{ shop.url }}{{ blog.url }}"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "{{ article.title }}",
      "item": "{{ shop.url }}{{ article.url }}"
    }
  ]
}
</script>

{% comment %} ğŸ¯ SEO Debug Info (åªåœ¨é¢„è§ˆæ¨¡å¼ä¸‹æ˜¾ç¤º) {% endcomment %}
{% if template contains 'preview' %}
<!-- SEO Debug Info -->
<!-- Target Keywords: {{ target_keywords }} -->
<!-- SEO Title: {{ seo_title }} -->
<!-- SEO Description: {{ seo_description }} -->
<!-- Article Title: {{ article.title }} -->
<!-- Word Count: {{ article.content | strip_html | split: ' ' | size }} -->
{% endif %}
